Traceback (most recent call last):
  File "/usr/local/lib/python3.9/site-packages/jupyter_cache/executors/utils.py", line 51, in single_nb_execution
    executenb(
  File "/usr/local/lib/python3.9/site-packages/nbclient/client.py", line 1085, in execute
    return NotebookClient(nb=nb, resources=resources, km=km, **kwargs).execute()
  File "/usr/local/lib/python3.9/site-packages/nbclient/util.py", line 84, in wrapped
    return just_run(coro(*args, **kwargs))
  File "/usr/local/lib/python3.9/site-packages/nbclient/util.py", line 62, in just_run
    return loop.run_until_complete(coro)
  File "/usr/local/Cellar/python@3.9/3.9.10/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 642, in run_until_complete
    return future.result()
  File "/usr/local/lib/python3.9/site-packages/nbclient/client.py", line 551, in async_execute
    await self.async_execute_cell(
  File "/usr/local/lib/python3.9/site-packages/nbclient/client.py", line 846, in async_execute_cell
    self._check_raise_for_error(cell, exec_reply)
  File "/usr/local/lib/python3.9/site-packages/nbclient/client.py", line 748, in _check_raise_for_error
    raise CellExecutionError.from_cell_and_msg(cell, exec_reply_content)
nbclient.exceptions.CellExecutionError: An error occurred while executing the following cell:
------------------
cx.add_basemap(combined_map, zoom=8)

------------------

[0;31m---------------------------------------------------------------------------[0m
[0;31mTimeoutError[0m                              Traceback (most recent call last)
File [0;32m~/venvs/finance/lib/python3.9/site-packages/urllib3/connection.py:174[0m, in [0;36mHTTPConnection._new_conn[0;34m(self)[0m
[1;32m    173[0m [38;5;28;01mtry[39;00m:
[0;32m--> 174[0m     conn [38;5;241m=[39m [43mconnection[49m[38;5;241;43m.[39;49m[43mcreate_connection[49m[43m([49m
[1;32m    175[0m [43m        [49m[43m([49m[38;5;28;43mself[39;49m[38;5;241;43m.[39;49m[43m_dns_host[49m[43m,[49m[43m [49m[38;5;28;43mself[39;49m[38;5;241;43m.[39;49m[43mport[49m[43m)[49m[43m,[49m[43m [49m[38;5;28;43mself[39;49m[38;5;241;43m.[39;49m[43mtimeout[49m[43m,[49m[43m [49m[38;5;241;43m*[39;49m[38;5;241;43m*[39;49m[43mextra_kw[49m
[1;32m    176[0m [43m    [49m[43m)[49m
[1;32m    178[0m [38;5;28;01mexcept[39;00m SocketTimeout:

File [0;32m~/venvs/finance/lib/python3.9/site-packages/urllib3/util/connection.py:95[0m, in [0;36mcreate_connection[0;34m(address, timeout, source_address, socket_options)[0m
[1;32m     94[0m [38;5;28;01mif[39;00m err [38;5;129;01mis[39;00m [38;5;129;01mnot[39;00m [38;5;28;01mNone[39;00m:
[0;32m---> 95[0m     [38;5;28;01mraise[39;00m err
[1;32m     97[0m [38;5;28;01mraise[39;00m socket[38;5;241m.[39merror([38;5;124m"[39m[38;5;124mgetaddrinfo returns an empty list[39m[38;5;124m"[39m)

File [0;32m~/venvs/finance/lib/python3.9/site-packages/urllib3/util/connection.py:85[0m, in [0;36mcreate_connection[0;34m(address, timeout, source_address, socket_options)[0m
[1;32m     84[0m     sock[38;5;241m.[39mbind(source_address)
[0;32m---> 85[0m [43msock[49m[38;5;241;43m.[39;49m[43mconnect[49m[43m([49m[43msa[49m[43m)[49m
[1;32m     86[0m [38;5;28;01mreturn[39;00m sock

[0;31mTimeoutError[0m: [Errno 60] Operation timed out

During handling of the above exception, another exception occurred:

[0;31mNewConnectionError[0m                        Traceback (most recent call last)
File [0;32m~/venvs/finance/lib/python3.9/site-packages/urllib3/connectionpool.py:703[0m, in [0;36mHTTPConnectionPool.urlopen[0;34m(self, method, url, body, headers, retries, redirect, assert_same_host, timeout, pool_timeout, release_conn, chunked, body_pos, **response_kw)[0m
[1;32m    702[0m [38;5;66;03m# Make the request on the httplib connection object.[39;00m
[0;32m--> 703[0m httplib_response [38;5;241m=[39m [38;5;28;43mself[39;49m[38;5;241;43m.[39;49m[43m_make_request[49m[43m([49m
[1;32m    704[0m [43m    [49m[43mconn[49m[43m,[49m
[1;32m    705[0m [43m    [49m[43mmethod[49m[43m,[49m
[1;32m    706[0m [43m    [49m[43murl[49m[43m,[49m
[1;32m    707[0m [43m    [49m[43mtimeout[49m[38;5;241;43m=[39;49m[43mtimeout_obj[49m[43m,[49m
[1;32m    708[0m [43m    [49m[43mbody[49m[38;5;241;43m=[39;49m[43mbody[49m[43m,[49m
[1;32m    709[0m [43m    [49m[43mheaders[49m[38;5;241;43m=[39;49m[43mheaders[49m[43m,[49m
[1;32m    710[0m [43m    [49m[43mchunked[49m[38;5;241;43m=[39;49m[43mchunked[49m[43m,[49m
[1;32m    711[0m [43m[49m[43m)[49m
[1;32m    713[0m [38;5;66;03m# If we're going to release the connection in ``finally:``, then[39;00m
[1;32m    714[0m [38;5;66;03m# the response doesn't need to know about the connection. Otherwise[39;00m
[1;32m    715[0m [38;5;66;03m# it will also try to release it and we'll have a double-release[39;00m
[1;32m    716[0m [38;5;66;03m# mess.[39;00m

File [0;32m~/venvs/finance/lib/python3.9/site-packages/urllib3/connectionpool.py:386[0m, in [0;36mHTTPConnectionPool._make_request[0;34m(self, conn, method, url, timeout, chunked, **httplib_request_kw)[0m
[1;32m    385[0m [38;5;28;01mtry[39;00m:
[0;32m--> 386[0m     [38;5;28;43mself[39;49m[38;5;241;43m.[39;49m[43m_validate_conn[49m[43m([49m[43mconn[49m[43m)[49m
[1;32m    387[0m [38;5;28;01mexcept[39;00m (SocketTimeout, BaseSSLError) [38;5;28;01mas[39;00m e:
[1;32m    388[0m     [38;5;66;03m# Py2 raises this as a BaseSSLError, Py3 raises it as socket timeout.[39;00m

File [0;32m~/venvs/finance/lib/python3.9/site-packages/urllib3/connectionpool.py:1040[0m, in [0;36mHTTPSConnectionPool._validate_conn[0;34m(self, conn)[0m
[1;32m   1039[0m [38;5;28;01mif[39;00m [38;5;129;01mnot[39;00m [38;5;28mgetattr[39m(conn, [38;5;124m"[39m[38;5;124msock[39m[38;5;124m"[39m, [38;5;28;01mNone[39;00m):  [38;5;66;03m# AppEngine might not have  `.sock`[39;00m
[0;32m-> 1040[0m     [43mconn[49m[38;5;241;43m.[39;49m[43mconnect[49m[43m([49m[43m)[49m
[1;32m   1042[0m [38;5;28;01mif[39;00m [38;5;129;01mnot[39;00m conn[38;5;241m.[39mis_verified:

File [0;32m~/venvs/finance/lib/python3.9/site-packages/urllib3/connection.py:358[0m, in [0;36mHTTPSConnection.connect[0;34m(self)[0m
[1;32m    356[0m [38;5;28;01mdef[39;00m [38;5;21mconnect[39m([38;5;28mself[39m):
[1;32m    357[0m     [38;5;66;03m# Add certificate verification[39;00m
[0;32m--> 358[0m     conn [38;5;241m=[39m [38;5;28;43mself[39;49m[38;5;241;43m.[39;49m[43m_new_conn[49m[43m([49m[43m)[49m
[1;32m    359[0m     hostname [38;5;241m=[39m [38;5;28mself[39m[38;5;241m.[39mhost

File [0;32m~/venvs/finance/lib/python3.9/site-packages/urllib3/connection.py:186[0m, in [0;36mHTTPConnection._new_conn[0;34m(self)[0m
[1;32m    185[0m [38;5;28;01mexcept[39;00m SocketError [38;5;28;01mas[39;00m e:
[0;32m--> 186[0m     [38;5;28;01mraise[39;00m NewConnectionError(
[1;32m    187[0m         [38;5;28mself[39m, [38;5;124m"[39m[38;5;124mFailed to establish a new connection: [39m[38;5;132;01m%s[39;00m[38;5;124m"[39m [38;5;241m%[39m e
[1;32m    188[0m     )
[1;32m    190[0m [38;5;28;01mreturn[39;00m conn

[0;31mNewConnectionError[0m: <urllib3.connection.HTTPSConnection object at 0x1365b3d90>: Failed to establish a new connection: [Errno 60] Operation timed out

During handling of the above exception, another exception occurred:

[0;31mMaxRetryError[0m                             Traceback (most recent call last)
File [0;32m~/venvs/finance/lib/python3.9/site-packages/requests/adapters.py:440[0m, in [0;36mHTTPAdapter.send[0;34m(self, request, stream, timeout, verify, cert, proxies)[0m
[1;32m    439[0m [38;5;28;01mif[39;00m [38;5;129;01mnot[39;00m chunked:
[0;32m--> 440[0m     resp [38;5;241m=[39m [43mconn[49m[38;5;241;43m.[39;49m[43murlopen[49m[43m([49m
[1;32m    441[0m [43m        [49m[43mmethod[49m[38;5;241;43m=[39;49m[43mrequest[49m[38;5;241;43m.[39;49m[43mmethod[49m[43m,[49m
[1;32m    442[0m [43m        [49m[43murl[49m[38;5;241;43m=[39;49m[43murl[49m[43m,[49m
[1;32m    443[0m [43m        [49m[43mbody[49m[38;5;241;43m=[39;49m[43mrequest[49m[38;5;241;43m.[39;49m[43mbody[49m[43m,[49m
[1;32m    444[0m [43m        [49m[43mheaders[49m[38;5;241;43m=[39;49m[43mrequest[49m[38;5;241;43m.[39;49m[43mheaders[49m[43m,[49m
[1;32m    445[0m [43m        [49m[43mredirect[49m[38;5;241;43m=[39;49m[38;5;28;43;01mFalse[39;49;00m[43m,[49m
[1;32m    446[0m [43m        [49m[43massert_same_host[49m[38;5;241;43m=[39;49m[38;5;28;43;01mFalse[39;49;00m[43m,[49m
[1;32m    447[0m [43m        [49m[43mpreload_content[49m[38;5;241;43m=[39;49m[38;5;28;43;01mFalse[39;49;00m[43m,[49m
[1;32m    448[0m [43m        [49m[43mdecode_content[49m[38;5;241;43m=[39;49m[38;5;28;43;01mFalse[39;49;00m[43m,[49m
[1;32m    449[0m [43m        [49m[43mretries[49m[38;5;241;43m=[39;49m[38;5;28;43mself[39;49m[38;5;241;43m.[39;49m[43mmax_retries[49m[43m,[49m
[1;32m    450[0m [43m        [49m[43mtimeout[49m[38;5;241;43m=[39;49m[43mtimeout[49m
[1;32m    451[0m [43m    [49m[43m)[49m
[1;32m    453[0m [38;5;66;03m# Send the request.[39;00m
[1;32m    454[0m [38;5;28;01melse[39;00m:

File [0;32m~/venvs/finance/lib/python3.9/site-packages/urllib3/connectionpool.py:785[0m, in [0;36mHTTPConnectionPool.urlopen[0;34m(self, method, url, body, headers, retries, redirect, assert_same_host, timeout, pool_timeout, release_conn, chunked, body_pos, **response_kw)[0m
[1;32m    783[0m     e [38;5;241m=[39m ProtocolError([38;5;124m"[39m[38;5;124mConnection aborted.[39m[38;5;124m"[39m, e)
[0;32m--> 785[0m retries [38;5;241m=[39m [43mretries[49m[38;5;241;43m.[39;49m[43mincrement[49m[43m([49m
[1;32m    786[0m [43m    [49m[43mmethod[49m[43m,[49m[43m [49m[43murl[49m[43m,[49m[43m [49m[43merror[49m[38;5;241;43m=[39;49m[43me[49m[43m,[49m[43m [49m[43m_pool[49m[38;5;241;43m=[39;49m[38;5;28;43mself[39;49m[43m,[49m[43m [49m[43m_stacktrace[49m[38;5;241;43m=[39;49m[43msys[49m[38;5;241;43m.[39;49m[43mexc_info[49m[43m([49m[43m)[49m[43m[[49m[38;5;241;43m2[39;49m[43m][49m
[1;32m    787[0m [43m[49m[43m)[49m
[1;32m    788[0m retries[38;5;241m.[39msleep()

File [0;32m~/venvs/finance/lib/python3.9/site-packages/urllib3/util/retry.py:592[0m, in [0;36mRetry.increment[0;34m(self, method, url, response, error, _pool, _stacktrace)[0m
[1;32m    591[0m [38;5;28;01mif[39;00m new_retry[38;5;241m.[39mis_exhausted():
[0;32m--> 592[0m     [38;5;28;01mraise[39;00m MaxRetryError(_pool, url, error [38;5;129;01mor[39;00m ResponseError(cause))
[1;32m    594[0m log[38;5;241m.[39mdebug([38;5;124m"[39m[38;5;124mIncremented Retry for (url=[39m[38;5;124m'[39m[38;5;132;01m%s[39;00m[38;5;124m'[39m[38;5;124m): [39m[38;5;132;01m%r[39;00m[38;5;124m"[39m, url, new_retry)

[0;31mMaxRetryError[0m: HTTPSConnectionPool(host='stamen-tiles-a.a.ssl.fastly.net', port=443): Max retries exceeded with url: /terrain/8/35/81.png (Caused by NewConnectionError('<urllib3.connection.HTTPSConnection object at 0x1365b3d90>: Failed to establish a new connection: [Errno 60] Operation timed out'))

During handling of the above exception, another exception occurred:

[0;31mConnectionError[0m                           Traceback (most recent call last)
Input [0;32mIn [16][0m, in [0;36m<cell line: 1>[0;34m()[0m
[0;32m----> 1[0m [43mcx[49m[38;5;241;43m.[39;49m[43madd_basemap[49m[43m([49m[43mcombined_map[49m[43m,[49m[43m [49m[43mzoom[49m[38;5;241;43m=[39;49m[38;5;241;43m8[39;49m[43m)[49m

File [0;32m~/venvs/finance/lib/python3.9/site-packages/contextily/plotting.py:121[0m, in [0;36madd_basemap[0;34m(ax, zoom, source, interpolation, attribution, attribution_size, reset_extent, crs, resampling, **extra_imshow_args)[0m
[1;32m    117[0m     left, right, bottom, top [38;5;241m=[39m _reproj_bb(
[1;32m    118[0m         left, right, bottom, top, crs, {[38;5;124m"[39m[38;5;124minit[39m[38;5;124m"[39m: [38;5;124m"[39m[38;5;124mepsg:3857[39m[38;5;124m"[39m}
[1;32m    119[0m     )
[1;32m    120[0m [38;5;66;03m# Download image[39;00m
[0;32m--> 121[0m image, extent [38;5;241m=[39m [43mbounds2img[49m[43m([49m
[1;32m    122[0m [43m    [49m[43mleft[49m[43m,[49m[43m [49m[43mbottom[49m[43m,[49m[43m [49m[43mright[49m[43m,[49m[43m [49m[43mtop[49m[43m,[49m[43m [49m[43mzoom[49m[38;5;241;43m=[39;49m[43mzoom[49m[43m,[49m[43m [49m[43msource[49m[38;5;241;43m=[39;49m[43msource[49m[43m,[49m[43m [49m[43mll[49m[38;5;241;43m=[39;49m[38;5;28;43;01mFalse[39;49;00m
[1;32m    123[0m [43m[49m[43m)[49m
[1;32m    124[0m [38;5;66;03m# Warping[39;00m
[1;32m    125[0m [38;5;28;01mif[39;00m crs [38;5;129;01mis[39;00m [38;5;129;01mnot[39;00m [38;5;28;01mNone[39;00m:

File [0;32m~/venvs/finance/lib/python3.9/site-packages/contextily/tile.py:222[0m, in [0;36mbounds2img[0;34m(w, s, e, n, zoom, source, ll, wait, max_retries)[0m
[1;32m    220[0m x, y, z [38;5;241m=[39m t[38;5;241m.[39mx, t[38;5;241m.[39my, t[38;5;241m.[39mz
[1;32m    221[0m tile_url [38;5;241m=[39m provider[38;5;241m.[39mbuild_url(x[38;5;241m=[39mx, y[38;5;241m=[39my, z[38;5;241m=[39mz)
[0;32m--> 222[0m image [38;5;241m=[39m [43m_fetch_tile[49m[43m([49m[43mtile_url[49m[43m,[49m[43m [49m[43mwait[49m[43m,[49m[43m [49m[43mmax_retries[49m[43m)[49m
[1;32m    223[0m tiles[38;5;241m.[39mappend(t)
[1;32m    224[0m arrays[38;5;241m.[39mappend(image)

File [0;32m~/venvs/finance/lib/python3.9/site-packages/joblib/memory.py:594[0m, in [0;36mMemorizedFunc.__call__[0;34m(self, *args, **kwargs)[0m
[1;32m    593[0m [38;5;28;01mdef[39;00m [38;5;21m__call__[39m([38;5;28mself[39m, [38;5;241m*[39margs, [38;5;241m*[39m[38;5;241m*[39mkwargs):
[0;32m--> 594[0m     [38;5;28;01mreturn[39;00m [38;5;28;43mself[39;49m[38;5;241;43m.[39;49m[43m_cached_call[49m[43m([49m[43margs[49m[43m,[49m[43m [49m[43mkwargs[49m[43m)[49m[[38;5;241m0[39m]

File [0;32m~/venvs/finance/lib/python3.9/site-packages/joblib/memory.py:537[0m, in [0;36mMemorizedFunc._cached_call[0;34m(self, args, kwargs, shelving)[0m
[1;32m    534[0m         must_call [38;5;241m=[39m [38;5;28;01mTrue[39;00m
[1;32m    536[0m [38;5;28;01mif[39;00m must_call:
[0;32m--> 537[0m     out, metadata [38;5;241m=[39m [38;5;28;43mself[39;49m[38;5;241;43m.[39;49m[43mcall[49m[43m([49m[38;5;241;43m*[39;49m[43margs[49m[43m,[49m[43m [49m[38;5;241;43m*[39;49m[38;5;241;43m*[39;49m[43mkwargs[49m[43m)[49m
[1;32m    538[0m     [38;5;28;01mif[39;00m [38;5;28mself[39m[38;5;241m.[39mmmap_mode [38;5;129;01mis[39;00m [38;5;129;01mnot[39;00m [38;5;28;01mNone[39;00m:
[1;32m    539[0m         [38;5;66;03m# Memmap the output at the first call to be consistent with[39;00m
[1;32m    540[0m         [38;5;66;03m# later calls[39;00m
[1;32m    541[0m         [38;5;28;01mif[39;00m [38;5;28mself[39m[38;5;241m.[39m_verbose:

File [0;32m~/venvs/finance/lib/python3.9/site-packages/joblib/memory.py:779[0m, in [0;36mMemorizedFunc.call[0;34m(self, *args, **kwargs)[0m
[1;32m    777[0m [38;5;28;01mif[39;00m [38;5;28mself[39m[38;5;241m.[39m_verbose [38;5;241m>[39m [38;5;241m0[39m:
[1;32m    778[0m     [38;5;28mprint[39m(format_call([38;5;28mself[39m[38;5;241m.[39mfunc, args, kwargs))
[0;32m--> 779[0m output [38;5;241m=[39m [38;5;28;43mself[39;49m[38;5;241;43m.[39;49m[43mfunc[49m[43m([49m[38;5;241;43m*[39;49m[43margs[49m[43m,[49m[43m [49m[38;5;241;43m*[39;49m[38;5;241;43m*[39;49m[43mkwargs[49m[43m)[49m
[1;32m    780[0m [38;5;28mself[39m[38;5;241m.[39mstore_backend[38;5;241m.[39mdump_item(
[1;32m    781[0m     [func_id, args_id], output, verbose[38;5;241m=[39m[38;5;28mself[39m[38;5;241m.[39m_verbose)
[1;32m    783[0m duration [38;5;241m=[39m time[38;5;241m.[39mtime() [38;5;241m-[39m start_time

File [0;32m~/venvs/finance/lib/python3.9/site-packages/contextily/tile.py:252[0m, in [0;36m_fetch_tile[0;34m(tile_url, wait, max_retries)[0m
[1;32m    250[0m [38;5;129m@memory[39m[38;5;241m.[39mcache
[1;32m    251[0m [38;5;28;01mdef[39;00m [38;5;21m_fetch_tile[39m(tile_url, wait, max_retries):
[0;32m--> 252[0m     request [38;5;241m=[39m [43m_retryer[49m[43m([49m[43mtile_url[49m[43m,[49m[43m [49m[43mwait[49m[43m,[49m[43m [49m[43mmax_retries[49m[43m)[49m
[1;32m    253[0m     [38;5;28;01mwith[39;00m io[38;5;241m.[39mBytesIO(request[38;5;241m.[39mcontent) [38;5;28;01mas[39;00m image_stream:
[1;32m    254[0m         image [38;5;241m=[39m Image[38;5;241m.[39mopen(image_stream)[38;5;241m.[39mconvert([38;5;124m"[39m[38;5;124mRGBA[39m[38;5;124m"[39m)

File [0;32m~/venvs/finance/lib/python3.9/site-packages/contextily/tile.py:395[0m, in [0;36m_retryer[0;34m(tile_url, wait, max_retries)[0m
[1;32m    375[0m [38;5;124;03m"""[39;00m
[1;32m    376[0m [38;5;124;03mRetry a url many times in attempt to get a tile[39;00m
[1;32m    377[0m 
[0;32m   (...)[0m
[1;32m    392[0m [38;5;124;03mrequest object containing the web response.[39;00m
[1;32m    393[0m [38;5;124;03m"""[39;00m
[1;32m    394[0m [38;5;28;01mtry[39;00m:
[0;32m--> 395[0m     request [38;5;241m=[39m [43mrequests[49m[38;5;241;43m.[39;49m[43mget[49m[43m([49m[43mtile_url[49m[43m,[49m[43m [49m[43mheaders[49m[38;5;241;43m=[39;49m[43m{[49m[38;5;124;43m"[39;49m[38;5;124;43muser-agent[39;49m[38;5;124;43m"[39;49m[43m:[49m[43m [49m[43mUSER_AGENT[49m[43m}[49m[43m)[49m
[1;32m    396[0m     request[38;5;241m.[39mraise_for_status()
[1;32m    397[0m [38;5;28;01mexcept[39;00m requests[38;5;241m.[39mHTTPError:

File [0;32m~/venvs/finance/lib/python3.9/site-packages/requests/api.py:75[0m, in [0;36mget[0;34m(url, params, **kwargs)[0m
[1;32m     64[0m [38;5;28;01mdef[39;00m [38;5;21mget[39m(url, params[38;5;241m=[39m[38;5;28;01mNone[39;00m, [38;5;241m*[39m[38;5;241m*[39mkwargs):
[1;32m     65[0m     [38;5;124mr[39m[38;5;124;03m"""Sends a GET request.[39;00m
[1;32m     66[0m 
[1;32m     67[0m [38;5;124;03m    :param url: URL for the new :class:`Request` object.[39;00m
[0;32m   (...)[0m
[1;32m     72[0m [38;5;124;03m    :rtype: requests.Response[39;00m
[1;32m     73[0m [38;5;124;03m    """[39;00m
[0;32m---> 75[0m     [38;5;28;01mreturn[39;00m [43mrequest[49m[43m([49m[38;5;124;43m'[39;49m[38;5;124;43mget[39;49m[38;5;124;43m'[39;49m[43m,[49m[43m [49m[43murl[49m[43m,[49m[43m [49m[43mparams[49m[38;5;241;43m=[39;49m[43mparams[49m[43m,[49m[43m [49m[38;5;241;43m*[39;49m[38;5;241;43m*[39;49m[43mkwargs[49m[43m)[49m

File [0;32m~/venvs/finance/lib/python3.9/site-packages/requests/api.py:61[0m, in [0;36mrequest[0;34m(method, url, **kwargs)[0m
[1;32m     57[0m [38;5;66;03m# By using the 'with' statement we are sure the session is closed, thus we[39;00m
[1;32m     58[0m [38;5;66;03m# avoid leaving sockets open which can trigger a ResourceWarning in some[39;00m
[1;32m     59[0m [38;5;66;03m# cases, and look like a memory leak in others.[39;00m
[1;32m     60[0m [38;5;28;01mwith[39;00m sessions[38;5;241m.[39mSession() [38;5;28;01mas[39;00m session:
[0;32m---> 61[0m     [38;5;28;01mreturn[39;00m [43msession[49m[38;5;241;43m.[39;49m[43mrequest[49m[43m([49m[43mmethod[49m[38;5;241;43m=[39;49m[43mmethod[49m[43m,[49m[43m [49m[43murl[49m[38;5;241;43m=[39;49m[43murl[49m[43m,[49m[43m [49m[38;5;241;43m*[39;49m[38;5;241;43m*[39;49m[43mkwargs[49m[43m)[49m

File [0;32m~/venvs/finance/lib/python3.9/site-packages/requests/sessions.py:529[0m, in [0;36mSession.request[0;34m(self, method, url, params, data, headers, cookies, files, auth, timeout, allow_redirects, proxies, hooks, stream, verify, cert, json)[0m
[1;32m    524[0m send_kwargs [38;5;241m=[39m {
[1;32m    525[0m     [38;5;124m'[39m[38;5;124mtimeout[39m[38;5;124m'[39m: timeout,
[1;32m    526[0m     [38;5;124m'[39m[38;5;124mallow_redirects[39m[38;5;124m'[39m: allow_redirects,
[1;32m    527[0m }
[1;32m    528[0m send_kwargs[38;5;241m.[39mupdate(settings)
[0;32m--> 529[0m resp [38;5;241m=[39m [38;5;28;43mself[39;49m[38;5;241;43m.[39;49m[43msend[49m[43m([49m[43mprep[49m[43m,[49m[43m [49m[38;5;241;43m*[39;49m[38;5;241;43m*[39;49m[43msend_kwargs[49m[43m)[49m
[1;32m    531[0m [38;5;28;01mreturn[39;00m resp

File [0;32m~/venvs/finance/lib/python3.9/site-packages/requests/sessions.py:645[0m, in [0;36mSession.send[0;34m(self, request, **kwargs)[0m
[1;32m    642[0m start [38;5;241m=[39m preferred_clock()
[1;32m    644[0m [38;5;66;03m# Send the request[39;00m
[0;32m--> 645[0m r [38;5;241m=[39m [43madapter[49m[38;5;241;43m.[39;49m[43msend[49m[43m([49m[43mrequest[49m[43m,[49m[43m [49m[38;5;241;43m*[39;49m[38;5;241;43m*[39;49m[43mkwargs[49m[43m)[49m
[1;32m    647[0m [38;5;66;03m# Total elapsed time of the request (approximately)[39;00m
[1;32m    648[0m elapsed [38;5;241m=[39m preferred_clock() [38;5;241m-[39m start

File [0;32m~/venvs/finance/lib/python3.9/site-packages/requests/adapters.py:519[0m, in [0;36mHTTPAdapter.send[0;34m(self, request, stream, timeout, verify, cert, proxies)[0m
[1;32m    515[0m     [38;5;28;01mif[39;00m [38;5;28misinstance[39m(e[38;5;241m.[39mreason, _SSLError):
[1;32m    516[0m         [38;5;66;03m# This branch is for urllib3 v1.22 and later.[39;00m
[1;32m    517[0m         [38;5;28;01mraise[39;00m SSLError(e, request[38;5;241m=[39mrequest)
[0;32m--> 519[0m     [38;5;28;01mraise[39;00m [38;5;167;01mConnectionError[39;00m(e, request[38;5;241m=[39mrequest)
[1;32m    521[0m [38;5;28;01mexcept[39;00m ClosedPoolError [38;5;28;01mas[39;00m e:
[1;32m    522[0m     [38;5;28;01mraise[39;00m [38;5;167;01mConnectionError[39;00m(e, request[38;5;241m=[39mrequest)

[0;31mConnectionError[0m: HTTPSConnectionPool(host='stamen-tiles-a.a.ssl.fastly.net', port=443): Max retries exceeded with url: /terrain/8/35/81.png (Caused by NewConnectionError('<urllib3.connection.HTTPSConnection object at 0x1365b3d90>: Failed to establish a new connection: [Errno 60] Operation timed out'))
ConnectionError: HTTPSConnectionPool(host='stamen-tiles-a.a.ssl.fastly.net', port=443): Max retries exceeded with url: /terrain/8/35/81.png (Caused by NewConnectionError('<urllib3.connection.HTTPSConnection object at 0x1365b3d90>: Failed to establish a new connection: [Errno 60] Operation timed out'))

